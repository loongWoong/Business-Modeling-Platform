# é¡µé¢è·³è½¬å’Œèœå•å…³ç³»ä¼˜åŒ–æ€»ç»“

## ä¼˜åŒ–ç›®æ ‡

åŸºäºDDDé¢†åŸŸæ¨¡å‹å…³ç³»ï¼Œä¼˜åŒ–å‰ç«¯é¡µé¢çš„è·³è½¬å’Œèœå•å…³ç³»ï¼Œç¡®ä¿ï¼š
1. ç¬¦åˆèšåˆè¾¹ç•Œ
2. æ¸…æ™°çš„å¯¼èˆªç»“æ„
3. ä¾¿æ·çš„é¡µé¢è·³è½¬

## é¢†åŸŸæ¨¡å‹å…³ç³»

### ç‹¬ç«‹èšåˆ

1. **Model èšåˆ**
   - Model (èšåˆæ ¹)
   - Property (å®ä½“ï¼Œå¿…é¡»å±äºModel)
   - Relation (å®ä½“ï¼Œè¿æ¥ä¸¤ä¸ªModel)

2. **Datasource èšåˆ**
   - Datasource (èšåˆæ ¹)
   - Mapping (å®ä½“ï¼Œè¿æ¥Datasource-Model-Property)
   - ModelTableAssociation (å®ä½“ï¼Œè¿æ¥Model-Datasource)

3. **ETL èšåˆ**
   - ETLTask (èšåˆæ ¹ï¼Œè¿æ¥Datasourceå’ŒModel)
   - ETLLog (å®ä½“ï¼Œå±äºETLTask)

### åˆ†ç±»ç»´åº¦

- **Domain (åˆ†ç±»/ç»„ç»‡ç»´åº¦)**
  - å¯é€‰çš„åˆ†ç±»æ ‡ç­¾ï¼ˆmodels.domainIdï¼‰
  - åŸŸçº§åˆ«å…±äº«èµ„æºï¼ˆsharedAttributes, indicators, functionsï¼‰
  - å¯é€‰çš„åˆ†ç±»æ ‡ç­¾ï¼ˆdatasources.domainIdï¼‰

## ä¼˜åŒ–å†…å®¹

### 1. æ–°å¢å…¨å±€å¯¼èˆªèœå• (`components/NavigationMenu.jsx`)

**åŠŸèƒ½ï¼š**
- å·¦ä¾§å›ºå®šå¯¼èˆªèœå•
- å±•ç¤ºæ‰€æœ‰èšåˆå’ŒDomain
- æ”¯æŒæŠ˜å /å±•å¼€
- æ˜¾ç¤ºå½“å‰é¡µé¢çŠ¶æ€
- æ˜¾ç¤ºèšåˆè¾¹ç•Œè¯´æ˜

**èœå•ç»“æ„ï¼š**
- ğŸ¢ ä¸šåŠ¡åŸŸ (Domainåˆ†ç±»ç»´åº¦)
- ğŸ“Š æ¨¡å‹èšåˆ (Modelèšåˆ)
- ğŸ’¾ æ•°æ®æºèšåˆ (Datasourceèšåˆ)
- âš™ï¸ ETLèšåˆ (ETLèšåˆ)

**è®¾è®¡ç‰¹ç‚¹ï¼š**
- ç¬¦åˆDDDèšåˆè¾¹ç•Œ
- æ¸…æ™°çš„è§†è§‰å±‚æ¬¡
- å“åº”å¼è®¾è®¡

### 2. ä¼˜åŒ–App.jsxå¸ƒå±€

**ä¿®æ”¹ï¼š**
- æ·»åŠ NavigationMenuç»„ä»¶
- è°ƒæ•´ä¸»å†…å®¹åŒºåŸŸå¸ƒå±€
- æ·»åŠ margin-leftä»¥é€‚åº”ä¾§è¾¹æ 

### 3. ä¼˜åŒ–é¢åŒ…å±‘å¯¼èˆª

**å„é¡µé¢é¢åŒ…å±‘ä¼˜åŒ–ï¼š**

#### DomainMap
- ä¸šåŠ¡åŸŸåœ°å›¾ (Domainåˆ†ç±»ç»´åº¦æ¦‚è§ˆ)

#### DomainWorkbench
- ä¸šåŠ¡åŸŸåœ°å›¾ > Domainåç§° (Domainåˆ†ç±»ç»´åº¦)
- æ·»åŠ å¿«é€Ÿå¯¼èˆªé“¾æ¥ï¼ˆæ¨¡å‹èšåˆã€æ•°æ®æºèšåˆã€ETLèšåˆï¼‰

#### ModelDetail
- ä¸šåŠ¡åŸŸåœ°å›¾ > Domainåç§° > Modelåç§° (Modelèšåˆ)

#### DatasourceDetail
- ä¸šåŠ¡åŸŸåœ°å›¾ > Domainåç§° > Datasourceåç§° (Datasourceèšåˆ)

#### ETLManager
- ä¸šåŠ¡åŸŸåœ°å›¾ > ETLç®¡ç† (ETLèšåˆ)

**è®¾è®¡ç‰¹ç‚¹ï¼š**
- æ¸…æ™°æ˜¾ç¤ºå½“å‰æ‰€åœ¨èšåˆ
- æ”¯æŒå¿«é€Ÿè¿”å›ä¸Šçº§é¡µé¢
- æ˜¾ç¤ºèšåˆç±»å‹æ ‡è¯†

### 4. ä¼˜åŒ–é¡µé¢è·³è½¬å…³ç³»

#### DomainWorkbenchä¸­çš„è·³è½¬

**ModelManagerï¼š**
- ç‚¹å‡»æ¨¡å‹åç§° â†’ è·³è½¬åˆ° `/model/:modelId` (ModelDetail)
- æ·»åŠ "æŸ¥çœ‹è¯¦æƒ…"æŒ‰é’®ï¼Œæ˜ç¡®è·³è½¬æ„å›¾

**DatasourceManagerï¼š**
- ç‚¹å‡»æ•°æ®æºåç§° â†’ è·³è½¬åˆ° `/datasource/:datasourceId` (DatasourceDetail)
- ç¬¦åˆDDDèšåˆè¾¹ç•Œï¼ˆDatasourceèšåˆç”±DatasourceDetailç®¡ç†ï¼‰

**å¿«é€Ÿå¯¼èˆªï¼š**
- åœ¨DomainWorkbenché¡¶éƒ¨æ·»åŠ å¿«é€Ÿå¯¼èˆªé“¾æ¥
- å¯ä»¥å¿«é€Ÿè·³è½¬åˆ°å„ä¸ªèšåˆç®¡ç†é¡µé¢

#### ModelDetailä¸­çš„è·³è½¬

**å…³è”æ•°æ®æºï¼š**
- ç‚¹å‡»æ•°æ®æºåç§° â†’ è·³è½¬åˆ° `/datasource/:datasourceId` (DatasourceDetail)
- åªæŸ¥çœ‹ï¼Œä¸ç›´æ¥ç®¡ç†ï¼ˆç¬¦åˆDDDèšåˆè¾¹ç•Œï¼‰

#### é¢åŒ…å±‘å¯¼èˆª

**æ‰€æœ‰é¡µé¢ï¼š**
- æ”¯æŒç‚¹å‡»é¢åŒ…å±‘è¿”å›ä¸Šçº§é¡µé¢
- æ¸…æ™°æ˜¾ç¤ºé¡µé¢å±‚çº§å…³ç³»
- æ˜¾ç¤ºå½“å‰æ‰€åœ¨èšåˆç±»å‹

### 5. ä¼˜åŒ–ETLManagerå¯¼èˆª

**ä¿®æ”¹ï¼š**
- ä½¿ç”¨React Routerçš„navigateæ›¿ä»£window.location.href
- æ·»åŠ é¢åŒ…å±‘å¯¼èˆª
- æ˜¾ç¤ºETLèšåˆæ ‡è¯†

## å¯¼èˆªæµç¨‹å›¾

```
ä¸šåŠ¡åŸŸåœ°å›¾ (DomainMap)
    â†“
    â”œâ”€â†’ Domainå·¥ä½œå° (DomainWorkbench)
    â”‚       â”œâ”€â†’ æ¨¡å‹ç®¡ç† â†’ Modelè¯¦æƒ… (ModelDetail)
    â”‚       â”‚       â””â”€â†’ å…³è”æ•°æ®æº â†’ Datasourceè¯¦æƒ… (DatasourceDetail)
    â”‚       â””â”€â†’ æ•°æ®æºç®¡ç† â†’ Datasourceè¯¦æƒ… (DatasourceDetail)
    â”‚
    â””â”€â†’ ETLç®¡ç† (ETLManager)
```

## è®¾è®¡åŸåˆ™

### 1. èšåˆè¾¹ç•Œæ¸…æ™°

- æ¯ä¸ªèšåˆæœ‰ç‹¬ç«‹çš„è¯¦æƒ…é¡µé¢
- è·¨èšåˆæ“ä½œé€šè¿‡è·³è½¬å®ç°
- ä¸åœ¨ä¸€ä¸ªé¡µé¢ä¸­æ··åˆç®¡ç†å¤šä¸ªèšåˆ

### 2. Domainä½œä¸ºåˆ†ç±»ç»´åº¦

- DomainWorkbenchä½œä¸ºæ¦‚è§ˆé¡µé¢
- å¯ä»¥æŸ¥çœ‹Domainä¸‹çš„æ‰€æœ‰èµ„æº
- è¯¦ç»†ç®¡ç†åœ¨å„è‡ªçš„èšåˆè¯¦æƒ…é¡µé¢

### 3. å¯¼èˆªä¸€è‡´æ€§

- æ‰€æœ‰é¡µé¢éƒ½æœ‰é¢åŒ…å±‘å¯¼èˆª
- æ”¯æŒå¿«é€Ÿè¿”å›ä¸Šçº§é¡µé¢
- å…¨å±€å¯¼èˆªèœå•ç»Ÿä¸€å…¥å£

### 4. ç”¨æˆ·ä½“éªŒ

- æ¸…æ™°çš„è§†è§‰å±‚æ¬¡
- ä¾¿æ·çš„é¡µé¢è·³è½¬
- æ˜ç¡®çš„å½“å‰ä½ç½®æ ‡è¯†

## æ–‡ä»¶ä¿®æ”¹æ¸…å•

1. **æ–°å¢æ–‡ä»¶ï¼š**
   - `frontend/src/components/NavigationMenu.jsx` - å…¨å±€å¯¼èˆªèœå•

2. **ä¿®æ”¹æ–‡ä»¶ï¼š**
   - `frontend/src/App.jsx` - æ·»åŠ å¯¼èˆªèœå•å’Œå¸ƒå±€è°ƒæ•´
   - `frontend/src/index.css` - æ·»åŠ å¸ƒå±€æ ·å¼
   - `frontend/src/pages/DomainMap/DomainMap.jsx` - ä¼˜åŒ–é¢åŒ…å±‘
   - `frontend/src/pages/DomainWorkbench/DomainWorkbench.jsx` - ä¼˜åŒ–é¢åŒ…å±‘å’Œå¿«é€Ÿå¯¼èˆª
   - `frontend/src/pages/DomainWorkbench/modules/ModelManager.jsx` - ä¼˜åŒ–è·³è½¬æŒ‰é’®
   - `frontend/src/pages/DomainWorkbench/modules/DatasourceManager.jsx` - ä¼˜åŒ–è·³è½¬ï¼ˆå·²åœ¨ä¹‹å‰å®Œæˆï¼‰
   - `frontend/src/pages/ModelDetail/ModelDetail.jsx` - ä¼˜åŒ–é¢åŒ…å±‘
   - `frontend/src/pages/DatasourceDetail/DatasourceDetail.jsx` - ä¼˜åŒ–é¢åŒ…å±‘
   - `frontend/src/pages/ETLManager/ETLManager.jsx` - ä¼˜åŒ–å¯¼èˆª

## åç»­ä¼˜åŒ–å»ºè®®

1. **å¯¼èˆªèœå•å¢å¼º**
   - æ·»åŠ æœç´¢åŠŸèƒ½
   - æ·»åŠ æœ€è¿‘è®¿é—®è®°å½•
   - æ”¯æŒæ”¶è—å¸¸ç”¨é¡µé¢

2. **é¢åŒ…å±‘å¢å¼º**
   - æ·»åŠ ä¸‹æ‹‰èœå•æ˜¾ç¤ºåŒçº§é¡µé¢
   - æ”¯æŒæ‹–æ‹½è°ƒæ•´é¡ºåº

3. **é¡µé¢è·³è½¬ä¼˜åŒ–**
   - æ·»åŠ é¡µé¢è¿‡æ¸¡åŠ¨ç”»
   - æ”¯æŒå‰è¿›/åé€€å†å²è®°å½•
   - æ·»åŠ é¡µé¢åŠ è½½çŠ¶æ€

4. **å“åº”å¼è®¾è®¡**
   - ç§»åŠ¨ç«¯å¯¼èˆªèœå•é€‚é…
   - å¹³æ¿ç«¯å¸ƒå±€ä¼˜åŒ–

